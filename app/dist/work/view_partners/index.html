<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="서울 핀테크 파트너스 협약식" />
    <meta name="keywords" content="서울 핀테크 파트너스 협약식" />
    <meta name="title" content="서울 핀테크 파트너스 협약식" />
    <meta property="og:title" content="서울 핀테크 파트너스 협약식" />
    <meta property="og:description" content="서울 핀테크 랩" />
    <meta property="og:image" content="images/og.png" />
    
    <link rel="stylesheet" href="css/style.css" />
  	<link rel="shortcut icon" href="favicon.ico" /> 
  
    <title>서울 핀테크 파트너스 협약식</title>
    
</head>
<body>
<div class="wrap">
<!-- 포폴용 -->
 <div class="alert"> 
  <p>(｡•́︿•̀｡) 음...</p>
   <p>이 페이지는 1150*825 이상의 브라우저를 대상으로 만들어졌습니다.
   지금 화면에서는 잘 안 보여요!</p>
 </div>
<!-- //포폴용 -->
  <header class="header">
    <div class="grid">
       <h1>서울 핀테크 파트너스 협약식</h1>
       <h2>2018. 4. 3 서울 핀테크 랩</h2>
    </div>
  </header>
  <div class="main">
   <div class="grid">
    <div class="blockArea">
     <div class="indicator">
       <div class="arrow"></div>
       <div class="more">·········</div>
     </div>
     <div class="blockContainer">
       <ul class="blockList" style="transform: translateX(-0px);">
         <!-- 블록 요소가 추가될 영역 -->
       </ul>
     </div>
    </div>
    
    <div class="table-container">
    
    <div class="tableArea">
      <ul class="thead">
        <li class="thead-th"><span>
          파트너사
        </span></li>
        <li class="thead-th"><span>
          협약서 해쉬
        </span></li>
        <li class="thead-th"><span>
          체결상황
        </span></li>
      </ul>
      <div class="tbody">
        <ul class="tbody-tr">
          <li class="tbody-td">
            <span>서울시</span>
          </li>
          <li class="tbody-td td-hash">
            <span class="td-hash-text">0628f3d20cdb1cb8c9309ad174b8e260e02c6a5a21e6985e14d8d2c91044042a</span>
          </li>
          <li class="tbody-td td-status">
            <span><i class="icon"></i></span>
          </li>
        </ul>
      </div>
    </div>
    
    <div class="tableArea">
      <ul class="thead">
        <li class="thead-th"><span>
          파트너사
        </span></li>
        <li class="thead-th"><span>
          협약서 해쉬
        </span></li>
        <li class="thead-th"><span>
          체결상황
        </span></li>
      </ul>
      <div class="tbody">
        <ul class="tbody-tr">
          <li class="tbody-td">
            <span>회사명</span>
          </li>
          <li class="tbody-td td-hash">
            <span class="td-hash-text">0628f3d20cdb1cb8c9309ad174b8e260e02c6a5a21e6985e14d8d2c91044042a</span>
          </li>
          <li class="tbody-td td-status">
            <span><i class="icon"></i></span>
          </li>
        </ul>
      </div>
    </div>
    
    <div class="tableArea">
      <ul class="thead">
        <li class="thead-th"><span>
          파트너사
        </span></li>
        <li class="thead-th"><span>
          협약서 해쉬
        </span></li>
        <li class="thead-th"><span>
          체결상황
        </span></li>
      </ul>
      <div class="tbody">
      </div>
    </div>
    
    </div>
    
  </div>
  </div>
  <div class="footer">
   <div class="grid">
      <div class="footer-logo">
      theloop
    </div>
    <p class="copyright">
      &copy; 2018 theloop, Inc. All Rights Reserved.
    </p>
  </div>
   </div>
   <div class="bg"></div>
</div>
    
<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

<script>
</script>

<script>
  
  var blockIdx = 1; //블럭 인덱스
  var signIdx = 1; //체결사항 인덱스
  
  var signPartnerName = '회사명'; //!(테스트용)!
  var signHash = '0628f3d20cdb1cb8c9309ad174b8e260e02c6a5a21e6985e14d8d2c91044042a'; //!(테스트용)!
  var testIdx = 0; //!(테스트용)!
  
  
  //블럭 추가
  function addBlock(){
    
    var $blockArea = $("div.blockArea");
    var $blockIndicator = $blockArea.children("div.indicator");
    var $blockContainer = $blockArea.children("div.blockContainer");
    var $blockList = $blockContainer.children("ul.blockList");
    
    if (blockIdx <= 1) { //블럭이 1개 이상 생겼을 때
      $blockArea.addClass("blockShow"); //blockArea에 blockShow 클래스
    }
    
    if (blockIdx > 3) { //블럭이 3개를 초과할 때
      
      if (blockIdx === 4){ //블럭이 4개인 순간
        $blockIndicator.addClass("on"); //indicator에 on 클래스
        $blockContainer.stop().animate({'left': 224},function(){ //우측으로 이동 후
          $blockList.attr("style","transform: translateX(-"+122*(blockIdx-4)+"px)"); //넘어가는 효과 적용
        });
      }else{ //블럭이 5개 이상이면 우측 이동 없음
        $blockList.attr("style","transform: translateX(-"+122*(blockIdx-3)+"px)");
      }
      
    }
    
    $blockList.append("<li class='block'><span>Block"+blockIdx+"</span></li>"); //블럭 요소 추가
    blockIdx ++; //인덱스 증가 
    
  }
  
  //체결 완료 시 보일 효과
  function signEffect(elem){
    elem.addClass("new").attr({"style":"z-index:"+signIdx}); //해당 tbody-tr에 new클래스 추가
  }
  
  
  /********** 테스트용 **********/
  
  function checkMobible(){
      if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
        $("html").addClass("mobile");
      }
  }
  
  
  function completeSign(){
    signEffect($(".tbody-tr").eq(testIdx));
    testIdx ++;
  }
  
  function test(){
    
    for (var i=0; i<10; i++) {

      var newSign = "";
      newSign += '<ul class="tbody-tr">'
      newSign += '<li class="tbody-td"><span>'
      newSign += signPartnerName + signIdx //파트너사
      newSign += '</span></li>'
      newSign += '<li class="tbody-td td-hash"><span class="td-hash-text">'
      newSign += signHash //협약서 해쉬값
      newSign += '</span></li>'
      newSign += '<li class="tbody-td td-status"><span><i class="icon"></i></span></li>'
      newSign +=  '</ul>'
      
      $(newSign).appendTo(".tbody");
      signIdx ++;
    } //임시 테이블 데이터 추가
    
    $("<div class='testArea'><strong>테스트 버튼 (view 확인용)</strong><button onClick='addBlock();'>블럭 추가</button><button onClick='completeSign();'>체결 완료</button></div>").appendTo("body"); //테스트영역 추가
    
   checkMobible();
    
  }
  
  
  window.onload=function(){test();};
  
  /*****************************************/
  
</script>


</body>
</html>